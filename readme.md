# описание проекта
тестовый проект для проверки навыков с fastapi, sqlalchemy, docker, postgresql.
# задание:
Необходимо реализовать API для создания товаров и их покупки покупателями. Сущности для базы данных: Покупатель, товары, купленные товары. Приветствуется использование Pydantic Schema. Обработка исключений (400 ошибка) при неверно заполненных полях. 

Требования:
- Язык программирования: Python 3.8 и выше
- Использование Docker, сервис должен запускаться с помощью docker-compose up
- Требований к используемым библиотекам нет
- Код должен соответствовать PEP, необходимо использование type hints, к публичным методам должна быть написана документация на английском языке

Пример полей для сущностей: 
- **Покупатель**: ФИО, дата покупки
- **Товар**: Наименование, цена, фотография (фото должно хранится локально)

Реализовать по RESTful протоколу CRUD операции:
1.	**POST** Добавление нового товара
2.	**PATCH** Изменение товара *(Данные на вход: id товара)*
3.	**DELETE** Удаление товара  *(Данные на вход: id товара)*
4.	**GET** Вывод всех покупателей
5.	**GET** Вывод всех товаров
6.	**GET** Вывод товаров купленные определенным покупателем *(Данные на вход: id покупателя)*
7.	**GET** Вывод всех покупателей которые купили конкретный товар *(Данные на вход: id товара)*


## **требования**:
1. 6гб свободного места 
2. ubuntu 20

## запуск:
1. скопируйте всё в папку
2. sh setup.sh (установка dockerm docker-compose)
3. в config.py замените hostname на {ip сервера}:5432
4. docker-compose up -d --force-recreate --build
5. для запуска тестов -- cd server; pytest

## архитектура:
~~~
database/
    init.sql -- бэкап бд

server/
    resources/
        sqlalchemy ресурсы
    routes/
        маршруты, описанные с помощью ресурсов
    приложение (main), тесты, модели и прочее
~~~
## особенности:
1. масштабируемая архитектура
2. покрытие тестами 
3. автопопуляция бд
4. легкий запуск с помощью docker-compose
5. абстрагированность бд в коде от логики
6. автоотправка файлов с помощью github.workflows (замените хост и пассворд на свои)

#### **проверено на ubuntu 20**